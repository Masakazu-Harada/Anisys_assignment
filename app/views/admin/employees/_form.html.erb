<% if employee.errors.present? %>
  <div class="alert alert-danger" role="alert">
    <h4 class="alert-heading">フォームの送信に問題があります:</h4>
    <ul>
      <% employee.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: [:admin, @employee], local: true do |f| %>
  <div class="form-group">
    <%= f.label :staff_number, required_field_label('社員番号') %>
    <%= f.text_field :staff_number, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :full_name, required_field_label('名前') %>
    <%= f.text_field :full_name, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :kana_name, required_field_label('名前カナ') %>
    <%= f.text_field :kana_name, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :log_in_id, required_field_label('ログインID') %>
    <%= f.text_field :log_in_id, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :email, required_field_label('メールアドレス') %>
    <%= f.email_field :email, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :branch_id, required_field_label('所属') %>
    <%= f.select :branch_id, Branch.all.map { |b| [b.name, b.id] }, { include_blank: true }, { class: 'form-control' } %>
  </div>

  <div class="form-group">
    <%= f.label :department_id, required_field_label('部署') %>
    <%= f.select :department_id, Department.all.map { |d| [d.name, d.id] }, { include_blank: true }, { class: 'form-control' } %>
  </div>

  <%# application_helperにpositions_for_selectメソッドを追記 %>
  <div class="form-group">
    <%= f.label :position, required_field_label('役職') %>
    <%= f.select :position, positions_for_select, { include_blank: true }, { class: 'form-control' } %>
  </div>

<div class="form-group">
    <%= f.label :boss_id, '上司' %>
    <%= f.select :boss_id, @supervisors.map { |s| [s.full_name, s.id] }, { include_blank: true}, { class: 'form-control'} %>
</div>

  <div class="form-check">
    <%= f.label :admin, 'form-check-label' do %>
      <%= f.check_box :admin, { class: 'form-check-input' }, "admin", "general" %>
      管理者権限
    <% end %>
  </div>
  <div class="form-group">
    <%= f.label :password, 'パスワード' %>
    <%= f.password_field :password, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :password_confirmation, 'パスワード(確認用)' %>
    <%= f.password_field :password_confirmation, class: 'form-control' %>
  </div>
  <%= f.submit '登録する', class: 'btn btn-primary' %>
<% end %>
